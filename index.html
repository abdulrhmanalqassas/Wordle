<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'> -->
    <title>wor</title>
    <link rel="stylesheet" href="./wor.css">
</head>

<body>
    <nav>
        <h1>Wordle</h1>
    </nav>
    <select name="categorys" id="categorys">
      
        <option value="food">food</option>
        <option value="cars" >cars</option>
        <option value="plant">Fruits</option>
    </select>
    <div class="flex" id="WGrid">

        <div class="input" id="1">
            <input maxlength="1" type="text" value="" outocomplte="off">
            <input maxlength="1" type="text" value="" outocomplte="off">
            <input maxlength="1" type="text" value="" outocomplte="off">
            <input maxlength="1" type="text" value="" outocomplte="off">
            <input maxlength="1" type="text" value="" outocomplte="off">
        </div>
        <div class="input" id="2">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
        </div>
        <div class="input" id="3">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
        </div>
        <div class="input" id="4">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
        </div>
        <div class="input" id="5">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
            <input maxlength="1" type="text">
        </div>
    </div>
    <div id="keyboard">

    </div>

    <button id="try">
        try
    </button>
</body>
<script src="./wor.js"></script>
<script>
    let id;
    let choise = document.getElementById("categorys")
    let corectWord
    
    if (localStorage.getItem("localWord") === null) {
        corectWord = myCategorys.word(myCategorys.all[Math.floor(Math.random() * myCategorys.all.length)])
        restState(corectWord)
        start()
    }else{
        corectWord = localStorage.getItem("localWord")
        restState(corectWord)
        start()
    }

    choise.addEventListener("change", () => {
        choiseWord = myCategorys.word(choise.value)
        restState(choiseWord)
        // localStorage.setItem("localWord",choiseWord)
        start()
        window.location.reload();

    })

    restorState(id, corectWord)
    function validIN(){
        let strId = id.toString()
        let word = getInput(id).toLowerCase();
        let validation ;
       try{
         validteWord(word, corectWord, 5);
         validation = validteWord(word, corectWord, 5);
       }catch(error){
           console.error("****",error);
       }
        
        if (outPut(showResult(validation), id) === true) {
            stopGame(button)

        }
        localStorage.setItem(strId, word);
        localStorage.setItem("id", id++)

        let curint = localStorage.getItem("curint")
        if (localStorage.getItem("gameState") !== "false") {
            localStorage.setItem("curint", id)
            disabled()
            unabled()
            
        }
    }
    let button = document.getElementById("try")
    let inputHold = document.getElementById("WGrid")
    button.addEventListener("mousedown", () => {
        validIN()
        
    })
    inputHold.addEventListener("keydown", event => {
       if (event.key==="Enter"){
        validIN()
       }
           
    })

</script>